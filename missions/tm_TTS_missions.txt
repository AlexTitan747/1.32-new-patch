tm_tts_slot_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_spread_the_true_faith = {
		icon = a_strong_government
		required_missions = { tm_TTS_restructure_the_cabinet }
		position = 10
		
		trigger = {

			num_of_owned_provinces_with = {
				value = 2
				NOT = { religion = catholic }
				region = italy_region
				owned_by = root
				}
		}
		
		effect = {
			add_treasury = 300
			add_country_modifier = {
				name = "adoption_of_a_new_religion"
				duration = 3650
				}
		}
}

tm_tts_slot_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_algeria_and_barbary_coast = {
		icon = a_strong_government
		required_missions = { tm_TTS_build_african_industry tm_TTS_spread_the_true_faith }
		position = 11
		
		provinces_to_highlight = {
			OR = {
				AND = {
					area = barbary_coast_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = algiers_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}

		trigger = {
				barbary_coast_area = {
					type = all
					owned_by = ROOT
					}
				algiers_area = {
					type = all
					owned_by = ROOT
				}
		}
		
		effect = {
			add_prestige = 10
			add_adm_power = 75
			marrekesh_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			northern_morocco_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			tafilalt_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			}
		}
	}

tm_tts_slot_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_restructure_the_cabinet = {
		icon = a_strong_government
		required_missions = { emp_nap_a_royal_coup }
		position = 9
		
		trigger = {
			stability = 2
			125 = {
				has_building = courthouse
				development = 18
			}

		}
		
		effect = {
			add_prestige = 30
			125 = {
				if = {
					limit = {
						NOT = { trade_goods = paper }
					}
					change_trade_goods = paper
				}
			}
			125 = {
				if = {
					limit = {
						NOT = { has_building = fort_15th }
					}
					add_building = fort_15th
					}
				}
			}
		}

	tm_TTS_build_african_industry = {
		icon = muslim_factory
		required_missions = { tm_TTS_restructure_the_cabinet }
		
		trigger = {

			num_of_owned_provinces_with = {
				value = 8
				region = maghreb_region
				owned_by = root
				has_building = workshop
				}
			}

		effect = {
			add_country_modifier = {
				name = "emirate_growing_industry"
				duration = 3650
				}
			}
		}
	}

tm_tts_slot_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_face_the_sultans_in_egypt = {
		icon = mission_saladin_takes_jerusalem
		required_missions = { tm_TTS_entrance_to_west_africa }
		position = 12

		provinces_to_highlight = {
			OR = {
				AND = {
					area = delta_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = bahari_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = siwa_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = cyrenaica_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = butnan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = zaltan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		
		trigger = {
			delta_area = {
				type = all
				owned_by = ROOT
				}
			bahari_area = {
				type = all
				owned_by = ROOT
				}
			cyrenaica_area = {
				type = all
				owned_by = ROOT
				}
			siwa_area = {
				type = all
				owned_by = ROOT
				}
			butnan_area = {
				type = all
				owned_by = ROOT
				}
			zaltan_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			country_event = {
				id = titannap.2
			}
			set_country_flag = upgrade_in_arms
		}
	}
}

tm_tts_slot_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_secure_the_tripoli_coast = {
		icon = mission_grand_bengali_shipyards
		required_missions = { tm_TTS_restructure_the_cabinet }
		position = 10

		provinces_to_highlight = {
			OR = {
				AND = {
					area = tripolitania_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = north_saharan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		
		trigger = {
			fezzan_area = {
				type = all
				owned_by = ROOT
				}
			north_saharan_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			fezzan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			north_saharan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			}
		}

	tm_TTS_entrance_to_west_africa = {
		icon = mission_sw_against_the_desert
		required_missions = { tm_TTS_secure_the_tripoli_coast }
		position = 11

		provinces_to_highlight = {
			OR = {
				AND = {
					area = fezzan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = north_saharan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		
		trigger = {
			fezzan_area = {
				type = all
				owned_by = ROOT
				}
			north_saharan_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			east_azbin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			azbin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			}
		}
	}

