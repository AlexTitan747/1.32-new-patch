gc_morocco_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_ulema_1 = {
		icon = mission_ottoman_harem
		required_missions = { }
		position = 3
		
		trigger = {
			estate_loyalty = {
				estate = estate_church
				loyalty = 70
			}
			num_of_estate_privileges = {
				estate = estate_church
				value = 3
			}
		}
		
		effect = {
			auto_complete_estate_agenda = {
				estate = estate_church
			}
			add_country_modifier = {
				name = tm_mor_appeased_ulema
				duration = 9125
			}
			disable_rebels_from_seize_land_for_estate = {
				estate = estate_church
			}
		}
	}

	tm_mor_ulema_2 = {
		icon = mission_rajput_trade_guilds
		required_missions = { tm_mor_ulema_1 }
		
		trigger = {
			estate_loyalty = {
				estate = estate_church
				loyalty = 80
			}
			num_of_estate_agendas_completed = {
				estate = estate_church
				value = 5
			}
			num_of_estate_privileges = {
				estate = estate_church
				value = 5
			}
		}
		
		effect = {
			custom_tooltip = tm_mor_improve_ulema_tt
			set_country_flag = tm_mor_improve_ulema
		}
	}

	tm_mor_ulema_3 = {
		icon = per_muslim_integration
		required_missions = { tm_mor_ulema_2 }
		
		trigger = {
			custom_trigger_tooltip = {
				tooltip = tm_mor_converted_x_provs_tt
				check_variable = {
					which = tm_converted_provs
					value = 30
				}
			}
			estate_loyalty = {
				estate = estate_church
				loyalty = 90
			}
			num_of_estate_agendas_completed = {
				estate = estate_church
				value = 8
			}
		}
		
		effect = {
			set_country_flag = tm_dev_on_convert_province
			custom_tooltip = tm_dev_on_convert_province_tt
		}
	}

	gra_refugees_flock_to_us = {
		icon = mission_cope_with_refugees
		required_missions = {tm_mor_crossed_the_straight }
		position = 11
		
		trigger = {
			if = {
				limit = {
					has_estate = estate_church
				}
				estate_influence = {
					estate = estate_church
					influence = 65 #starting: 48 
				}
				NOT = {
					estate_influence = {
						estate = estate_church
						influence = 100
					}
				}
			}
			else = {
				religious_unity = 0.90
			}
			stability = 2
		}
		
		effect = {
			capital_scope = {
				add_base_tax = 2
				add_base_manpower = 4
			}
		}
	}
	
	gra_palace_of_alhambra = {
		icon = mission_develop_alhambra
		required_missions = { gra_refugees_flock_to_us }
		
		provinces_to_highlight = {
			province_id = 223
		}
		trigger = {
			223 = {
				country_or_non_sovereign_subject_holds = ROOT
				development = 20
				num_of_buildings_in_province = 4
			}
		}
		
		effect = {
			223 = {
				add_province_modifier = {
					name = "renovated_palace_of_alhambra"
					duration = -1
				}
				if = {
					limit = {
						NOT = {
							has_great_project = {
								type = alhambra
								tier = 2
							}
						}
					}
					add_great_project_tier = {
						type = alhambra
						tier = 1
					}
					custom_tooltip = tm_upgrades_great_project_up_to_tier_2_tt
				}
			}
		}
	}

	adu_develop_cordoba = {
		icon = mission_develop_cordoba
		required_missions = { gra_palace_of_alhambra }
		
		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						area = lower_andalucia_area
						area = upper_andalucia_area
					}
					OR = {
						NOT = { country_or_non_sovereign_subject_holds = ROOT }
						NOT = { religion = ROOT }
					}
				}
				province_id = 225
			}
		}
		
		trigger = {
			225 = {
				country_or_non_sovereign_subject_holds = ROOT
				development = 20
			}
			lower_andalucia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				religion = ROOT
				has_tax_building_trigger = yes
			}
			upper_andalucia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				religion = ROOT
				has_tax_building_trigger = yes
			}
		}
		
		effect = {
			#custom_tooltip = alandalus_returns_tooltip
			225 = {
				#add_province_triggered_modifier = alandalus_returns
				add_province_modifier = {
					name = alandalus_returns
					duration = -1
				}
			}
		}
	}
}

tm_morocco_eco_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_building_production = {
		icon = industrialized_rhineland
		required_missions = { }
		position = 16
		
		provinces_to_highlight = {
			owned_by = ROOT
			has_production_building = no
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 15
				has_production_building = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_building_production_modifier
				duration = 5475
			}
		}
	}

	tm_mor_innovation = {
		icon = mission_conquer_punjab
		required_missions = { tm_mor_building_production }

		provinces_to_highlight = {
			province_id = 343
		}
		
		trigger = {
			has_more_institutions_than_westerns = yes
			has_better_tech_than_westerns = yes
			343 = {
				has_great_project = {
					type = al_qarawiyyin
					tier = 3
				}
			}
		}

		effect = {
			change_innovativeness = 5
			if = {
				limit = {
					capital_scope = {
						area_for_scope_province = {
							NOT = { has_building = university }
						}
					}
				}
				capital_scope = {
					add_building = university
				}
			}
			else = {
				capital_scope = { add_random_development = 3 }
			}
			#capital_scope = {
			#	add_province_modifier = {
			#		name = tm_mor_centre_of_islamic_learning
			#		duration = -1
			#	}
			#}
		}
	}
}

tm_mor_colonisation_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_carribean_start = {
		icon = mission_caribbean_cn
		required_missions = { tm_mor_colonial_ambition }
		position = 20
		
		provinces_to_highlight = {
			colonial_region = colonial_the_carribean
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				colonial_region = colonial_the_carribean
				is_city = yes
			}
		}

		effect = {
			define_advisor = {
				type = navigator
				skill = 3
				religion = ROOT
				culture = ROOT
				cost_multiplier = 0.3
			}
			if = {
				limit = {
					NOT = { any_province = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean } }
				}
				custom_tooltip = tm_mor_5_provs_in_carribean_gain
			}
			random_province = {
				limit = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean }
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			random_province = {
				limit = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean }
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			random_province = {
				limit = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean }
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			random_province = {
				limit = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean }
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			random_province = {
				limit = { country_or_non_sovereign_subject_holds = ROOT colonial_region = colonial_the_carribean }
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
		}
	}

	tm_mor_carribean_control = {
		icon = mission_colonize_the_caribbean
		required_missions = { tm_mor_carribean_start }
		
		provinces_to_highlight = {
			colonial_region = colonial_the_carribean
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 20
				colonial_region = colonial_the_carribean
				is_city = yes
			}
		}

		effect = {
			add_mercantilism = 3
			add_country_modifier = {
				name = tm_mor_trading_nation
				duration = -1
			}
		}
	}

	tm_mor_carribean_trade = {
		icon = mission_secure_hajj_ports
		required_missions = { tm_mor_carribean_control }
		
		provinces_to_highlight = {
			province_id = 1516
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
				colonial_region = colonial_the_carribean
				OR = {
					has_trade_building_trigger = yes
					province_has_center_of_trade_of_level = 2
				}
			}
			1516 = {
				trade_node_value = 50
				trade_share = {
					country = ROOT
					share = 40
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_carribean_trading
				duration = -1
			}
		}
	}

	tm_mor_carribean_privateering = {
		icon = mission_sponsor_piracy
		required_missions = { tm_mor_carribean_trade }
		
		provinces_to_highlight = {
			province_id = 1516
			has_discovered = ROOT
		}

		trigger = {
			1516 = {
				has_privateer_share_in_trade_node = {
					who = ROOT
					share = 0.2
				}
			}
			num_ships_privateering = 50
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_pirates_of_the_carribean
				duration = 9125
			}
		}
	}
}


gc_morocco_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_military_academys = {
		icon = mission_conquer_malwa_mer
		required_missions = { tm_mor_mobilisation }
		position = 2

		provinces_to_highlight = {
			has_military_building = no
			owned_by = ROOT
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				has_military_building = yes
				owned_by = ROOT
			}
		}

		effect = {
			add_army_professionalism = 0.05
			add_army_tradition = 10
			add_country_modifier = {
				name = new_offensive_prepared
				duration = 3650
			}
		}
	}

	tm_mor_develop_inside = {
		icon = mission_mal_subjugate_zaf
		required_missions = { tm_mor_secure_the_interior }
		position = 4

		provinces_to_highlight = {
			OR = {
				area = ouled_nail_area
				area = biskra_area
				area = north_saharan_area
			}
			OR = {
				has_manpower_building_trigger = no
				has_tax_building_trigger = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
		}

		trigger = {
			ouled_nail_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				has_tax_building_trigger = yes
				has_manpower_building_trigger = yes
				province_is_or_accepts_culture = yes
			}
			biskra_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				has_tax_building_trigger = yes
				has_manpower_building_trigger = yes
				province_is_or_accepts_culture = yes
			}
			north_saharan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				has_tax_building_trigger = yes
				has_manpower_building_trigger = yes
				province_is_or_accepts_culture = yes
			}
		}

		effect = {
			custom_tooltip = tm_mor_develop_inside_tt
			hidden_effect = {
				ouled_nail_area = {
					limit = { NOT = { base_tax = 3 } }
					set_base_tax = 3
				}
				ouled_nail_area = {
					limit = { NOT = { base_production = 3 } }
					set_base_production = 3
				}
				ouled_nail_area = {
					limit = { NOT = { base_manpower = 3 } }
					set_base_manpower = 3
				}
				biskra_area = {
					limit = { NOT = { base_tax = 3 } }
					set_base_tax = 3
				}
				biskra_area = {
					limit = { NOT = { base_production = 3 } }
					set_base_production = 3
				}
				biskra_area = {
					limit = { NOT = { base_manpower = 3 } }
					set_base_manpower = 3
				}
				north_saharan_area = {
					limit = { NOT = { base_tax = 3 } }
					set_base_tax = 3
				}
				north_saharan_area = {
					limit = { NOT = { base_production = 3 } }
					set_base_production = 3
				}
				north_saharan_area = {
					limit = { NOT = { base_manpower = 3 } }
					set_base_manpower = 3
				}
			}
			for = {
				amount = 5
				effect = "
				random_province = {
					limit = {
						OR = {
							area = ouled_nail_area
							area = biskra_area
							area = north_saharan_area
						}
					}
					add_random_development = 1
				}
				"
			}
		}
	}

	tm_mor_march_on_egypt = {
		icon = mission_egyptian_mamluk_soldier
		required_missions = { tm_mor_carry_onwards }
		position = 6

		provinces_to_highlight = {
			region = egypt_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				region = egypt_region
			}
		}

		effect = {
			egypt_region = { add_perma_claim = yes }
			add_army_tradition = 10
			add_mil_power = 100
		}
	}

	tm_mor_control_egypt = {
		icon = mission_break_the_mamluks
		required_missions = { tm_mor_march_on_egypt }

		provinces_to_highlight = {
			region = egypt_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				region = egypt_region
			}
		}

		effect = {
			add_adm_power = 75
			add_dip_power = 75
			add_country_modifier = {
				name = tm_mor_control_trade_from_alexandria
				duration = -1
			}
			358 = {
				add_trade_modifier = {
					who = ROOT
					duration = 5475
					power = 25
					key = STRONG_MERCHANTS
				}
			}
		}
	}

	tm_mor_riches_of_egypt = {
		icon = mission_steer_trade_to_bengal
		required_missions = { tm_mor_control_egypt }
		position = 8

		provinces_to_highlight = {
			region = egypt_region
			owned_by = ROOT
			OR = {
				NOT = { development = 20 }
				NOT = { num_of_buildings_in_province = 4 }
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				region = egypt_region
				num_of_buildings_in_province = 4
				development = 20
			}
			358 = {
				has_merchant = ROOT
			}
		}

		effect = {
			358 = {
				add_trade_node_income = 12
			}
			add_years_of_owned_provinces_production_income = {
				years = 5
				trigger = {
					region = egypt_region
				}
			}
		}
	}

	tm_mor_build_defenses = {
		icon = fortify_malta
		required_missions = { tm_mor_prepare_for_jihad }
		position = 9

		provinces_to_highlight = {
			province_id = 1751
			has_fort_building_trigger = no
		}
		
		trigger = {
			1751 = {
				owned_by = ROOT
				OR = {
					has_fort_building_trigger = yes
					has_influencing_fort = yes
				}
			}
			num_of_owned_provinces_with = {
				value = 5
				has_fort_building_trigger = yes
			}
		}

		effect = {
			country_event = {
				id = morocco_flavour.1
			}
			custom_tooltip = tm_mor_event_insight_defense_of_ceuta
			tooltip = {
				1751 = {
					add_province_modifier = {
						name = defense_of_ceuta_land
						duration = -1
					}
				}
				custom_tooltip = tm_of_ceuta_has_fort
				if = {
					limit = {
						1751 = { has_fort_building_trigger = yes }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				1751 = {
					add_building = ramparts_tm
				}
			}
			custom_tooltip = tm_mor_event_insight_defense_of_ceuta_2
			tooltip = {
				1751 = {
					add_province_modifier = {
						name = defense_of_ceuta_sea
						duration = -1
					}
				}
				custom_tooltip = tm_of_ceuta_has_fort
				if = {
					limit = {
						1751 = { has_fort_building_trigger = yes }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				1751 = {
					add_building = naval_battery
				}
			}
		}
	}

	tm_mor_spanish_shipbuilding = {
		icon = mission_raid_on_iceland
		required_missions = { tm_mor_crossed_the_straight }
		position = 11
		
		provinces_to_highlight = {
			culture_group = iberian
			has_port = yes
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
				AND = {
					country_or_non_sovereign_subject_holds= ROOT
					has_navy_building = no
				}
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				culture_group = iberian
				has_navy_building = yes
			}
			accepted_culture = andalucian
		}
		
		effect = {
			add_yearly_sailors = 5
			add_country_modifier = {
				name = stolen_spanish_ship_designs
				duration = -1
			}
		}
	}

	tm_mor_end_portugal = {
		icon = mission_portuguese_interference
		required_missions = { tm_mor_push_further }
		
		provinces_to_highlight = {
			OR = {
				area = beieras_area
				area = alentejo_area
				area = algarve_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		
		trigger = {
			beieras_area = { type = all country_or_non_sovereign_subject_holds = ROOT }
			alentejo_area = { type = all country_or_non_sovereign_subject_holds = ROOT }
			algarve_area = { type = all country_or_non_sovereign_subject_holds = ROOT }
		}
		
		effect = {
			add_country_modifier = {
				name = "adu_new_world_discoveries"
				duration = 7300
			}
		}
	}
}

tm_morocco_eco_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_moroccan_cloth = {
		icon = mission_develop_cloth
		required_missions = { }
		position = 16

		provinces_to_highlight = {
			region = maghreb_region
			OR = {
				trade_goods = cloth
				trade_goods = uniforms
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { development = 12 }
				has_production_building = no
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				OR = {
					trade_goods = cloth
					trade_goods = uniforms
				}
				value = 5
				development = 12
				has_production_building = yes
			}
			337 = {
				owned_by = ROOT
				province_has_center_of_trade_of_level = 2
			}
			334 = {
				owned_by = ROOT
				province_has_center_of_trade_of_level = 2
			}
		}

		effect = {
			337 = {
				add_base_tax = 1
				add_base_production = 2
				add_base_manpower = 1
			}
			334 = {
				add_base_tax = 1
				add_base_production = 2
				add_base_manpower = 1
			}
			add_treasury = 350
			add_dip_power = 75
		}
	}

	tm_mor_african_olive_oil = {
		icon = mission_che_botanical_exports
		required_missions = { tm_mor_moroccan_cloth }

		provinces_to_highlight = {
			region = maghreb_region
			OR = {
				trade_goods = olives
				AND = {
					trade_goods = olive_oil
					OR = {
						NOT = { development = 15 }
						has_manufactory = no
					}
				}
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 8
				trade_goods = olive_oil
				OR = {
					has_manufactory = yes
					development = 15
				}
			}
		}

		effect = {
			if = {
				limit = {
					342 = { owned_by = ROOT }
				}
				342 = { 
					add_province_modifier = {
						name = new_olive_oil_demands
						duration = -1
					}
				}
			}
			if = {
				limit = {
					343 = { owned_by = ROOT }
				}
				343 = { 
					add_province_modifier = {
						name = new_olive_oil_demands
						duration = -1
					}
				}
			}
			if = {
				limit = {
					5039 = { owned_by = ROOT }
				}
				5039 = { 
					add_province_modifier = {
						name = new_olive_oil_demands
						duration = -1
					}
				}
			}
			if = {
				limit = {
					344 = { owned_by = ROOT }
				}
				344 = { 
					add_province_modifier = {
						name = new_olive_oil_demands
						duration = -1
					}
				}
			}
			add_years_of_owned_provinces_production_income = {
				years = 2
				trigger = {
					OR = {
						trade_goods = olives
						trade_goods = olive_oil
					}
				}
			}
		}
	}

	tm_mor_new_industries = {
		icon = mission_industrialize_bengal
		required_missions = { tm_mor_innovation tm_mor_african_olive_oil  }

		provinces_to_highlight = {
			OR = {
				prov_can_have_developed_good = yes
				has_manufactory = no
			}			
			owned_by = ROOT
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 25
				prov_has_developed_good = yes
			}
			num_of_owned_provinces_with = {
				value = 40
				has_manufactory = yes
			}
			
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_modernised_nation
				duration = -1
			}
		}
	}
}

tm_mor_colonisation_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_colombia_start = {
		icon = mission_clear_the_delta
		required_missions = { tm_mor_colonial_ambition }
		position = 20
		
		provinces_to_highlight = {
			colonial_region = colonial_colombia
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				colonial_region = colonial_colombia
				is_city = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_expand_into_colombia
				duration = 9125
			}
		}
	}

	tm_mor_colombia_control = {
		icon = mission_new_kingdom_of_granada
		required_missions = { tm_mor_colombia_start }
		
		provinces_to_highlight = {
			colonial_region = colonial_colombia
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				colonial_region = colonial_colombia
				is_city = yes
			}
		}

		effect = {
			add_ruler_personality = expansionist_personality
			add_country_modifier = {
				name = tm_mor_expanded_goods_market
				duration = 3650
			}
		}
	}

	tm_mor_peru_start = {
		icon = mission_iberian_conquistador
		required_missions = { tm_mor_colombia_control }
		
		provinces_to_highlight = {
			colonial_region = colonial_peru
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				colonial_region = colonial_peru
				is_city = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_colonising_peru
				duration = 10950
			}
		}
	}

	tm_mor_peru_control = {
		icon = mission_potosi_silver
		required_missions = { tm_mor_peru_start }
		
		provinces_to_highlight = {
			colonial_region = colonial_peru
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				colonial_region = colonial_peru
				is_city = yes
			}
		}

		effect = {
			custom_tooltip = tm_gold_and_silver_from_incas
			hidden_effect = {
				every_province = {
					limit = {
						country_or_non_sovereign_subject_holds = ROOT
						OR = {
							trade_goods = gold
							trade_goods = silver
							trade_goods = silverware
						}
					}
					add_base_production = 3
				}
			}
		}
	}
}


gc_morocco_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_mobilisation = {
		icon = mission_integrate_the_purbias
		required_missions = {}

		provinces_to_highlight = {}

		trigger = {
			army_size_percentage = 1
			num_of_generals = 1
		}

		effect = {
			349 = { add_permanent_claim = ROOT }
			algiers_area = { add_perma_claim = yes }
			barbary_coast_area = { add_perma_claim = yes }
			hautes_plaines_area = { add_perma_claim = yes }
			hodna_area = { add_perma_claim = yes }
		}
	}

	gc_mor_algiers = {
		icon = mission_conquer_algiers
		required_missions = { tm_mor_mobilisation }
		position = 2

		provinces_to_highlight = {
			OR = {
				area = algiers_area
				area = barbary_coast_area
				area = hautes_plaines_area
				area = tafilalt_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		trigger = {
			algiers_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			barbary_coast_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			hautes_plaines_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
			tafilalt_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT	
			}
		}

		effect = {
			change_ruler_stat = {
				type = adm
				amount = 1
			}
			add_country_modifier = {
				name = "mor_barbary_pirate_coast"
				duration = 7300
			}
			ouled_nail_area = { add_perma_claim = yes }
			biskra_area = { add_perma_claim = yes }
			north_saharan_area = { add_perma_claim = yes }
		}
	}

	tm_mor_secure_the_interior = {
		icon = mission_nah_dinetah
		required_missions = { gc_mor_algiers }

		provinces_to_highlight = {
			OR = {
				area = ouled_nail_area
				area = biskra_area
				area = north_saharan_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			ouled_nail_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			biskra_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			north_saharan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}

		effect = {
			ouled_nail_area = { add_nationalism = -5 add_local_autonomy = -20 }
			biskra_area = { add_nationalism = -5 add_local_autonomy = -20 }
			north_saharan_area = { add_nationalism = -5 add_local_autonomy = -20 }
		}
	}

	tm_mor_carry_onwards = {
		icon = mission_spoils_of_war
		required_missions = { tm_mor_secure_the_interior gc_mor_tunis }
		position = 5

		provinces_to_highlight = {
			
		}

		trigger = {
			num_of_generals = 2
			OR = {
				manpower_percentage = 0.33
				manpower = 30
			}			
			army_size = 30
		}

		effect = {
			sabha_area = { add_perma_claim = yes }
			tripolitania_area = { add_perma_claim = yes }
			fezzan_area = { add_perma_claim = yes }
			zaltan_area = { add_perma_claim = yes }
			cyrenaica_area = { add_perma_claim = yes }
			butnan_area = { add_perma_claim = yes }
			siwa_area = { add_perma_claim = yes }			
		}
	}

	tm_mor_conquered_maghreb = {
		icon = mission_empire
		required_missions = { tm_mor_carry_onwards }

		provinces_to_highlight = {
			region = maghreb_region
			NOT = { area = macaronesia_area }
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			maghreb_region = { 
				type = all
				OR = {
					area = macaronesia_area
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}

		effect = {
			add_prestige_or_monarch_power = { amount = 50 }
			add_country_modifier = {
				name = tm_mor_unified_maghreb
				duration = 5475
			}
			add_power_projection = {
				type = 10_permanent_power_projection
				amount = 10
			}
			custom_tooltip = sca_scandinavian_european_empire_tt
		}
	}

	tm_mor_prepare_offense = {
		icon = protect_against_austria
		required_missions = { tm_mor_prepare_for_jihad }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			manpower_percentage = 0.5
			num_of_generals = 2
			army_size = 35
			has_mil_advisor_2 = yes
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_prepare_spanish_offensive
				duration = 3650
			}
		}
	}

	tm_mor_crossed_the_straight = {
		icon = mission_rb_take_gibraltar
		required_missions = { tm_mor_a_moroccan_fleet tm_mor_build_defenses tm_mor_prepare_offense tm_mor_infiltrate_spanish_administration }

		provinces_to_highlight = {
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
			OR = {
				AND = {
					province_id = 226
					ROOT = {
						num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
							value = 8
							OR = {
								area = upper_andalucia_area
								area = lower_andalucia_area
								area = algarve_area
							}
						}
					}
				}
				AND = {
					OR = {
						area = upper_andalucia_area
						area = lower_andalucia_area
						area = algarve_area
					}
					NOT = {
						ROOT = {
							num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
								value = 8
								OR = {
									area = upper_andalucia_area
									area = lower_andalucia_area
									area = algarve_area
								}
							}
						}
					}
				}
			}
		}

		trigger = {
			226 = { country_or_non_sovereign_subject_holds = ROOT }
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				OR = {
					area = upper_andalucia_area
					area = lower_andalucia_area
					area = algarve_area
				}
			}
		}

		effect = {
			add_adm_power = 100
			add_prestige_or_monarch_power = { amount = 50 }
			alentejo_area = { add_perma_claim = yes }
			extremadura_area = { add_perma_claim = yes }
			toledo_area = { add_perma_claim = yes }
			albacete_area = { add_perma_claim = yes }
			valencia_area = { add_perma_claim = yes }
			baleares_area = { add_perma_claim = yes }
			add_country_modifier = {
				name = "mor_andalucia"
				duration = 7300
			}
			custom_tooltip = tm_mor_own_224_tt
			tooltip = {
				224 = {
					add_province_modifier = {
						name = gra_reconvert_giralda
						duration = -1
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						224 = { country_or_non_sovereign_subject_holds = ROOT }
					}
					224 = {
						add_province_modifier = {
							name = gra_reconvert_giralda
							duration = -1
						}
					}
				}
				else = {
					set_country_flag = tm_mor_owns_224_flag
				}
			}
		}
	}

	tm_mor_push_further = {
		icon = mission_protect_granada
		required_missions = { tm_mor_crossed_the_straight }

		provinces_to_highlight = {
			region = iberia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 20
				region = iberia_region
			}
		}

		effect = {
			add_adm_power = 150
			iberia_region = { add_perma_claim = yes }
			add_country_modifier = {
				name = "adu_righteous_conquest"
				duration = 7300
			}
		}
	}

	tm_mor_reclaim_iberia = {
		icon = mission_al_andalus
		required_missions = { tm_mor_push_further }

		provinces_to_highlight = {
			region = iberia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 40
				region = iberia_region
			}
			is_or_was_tag = { tag = ADU }
		}

		effect = {
			add_country_modifier = {
				name = adu_white_phoenix
				duration = 9125
			}
			pyrenees_area = { add_perma_claim = yes }
			languedoc_area = { add_perma_claim = yes }
			bordeaux_area = { add_perma_claim = yes }
			guyenne_area = { add_perma_claim = yes }
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 50
			}
			add_prestige_or_monarch_power = { amount = 50 }
			add_splendor = 100
		}
	}

	tm_mor_avenge_tours = {
		icon = mission_battle_of_varna
		required_missions = { tm_mor_reclaim_iberia }

		provinces_to_highlight = {
			region = france_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				region = france_region
			}
		}

		effect = {
			france_region = { add_perma_claim = yes }
			add_army_tradition = 25
			add_mil_power = 150
		}
	}

	tm_mor_crusader_kings = {
		icon = mission_the_french_menace
		required_missions = { tm_mor_avenge_tours }

		provinces_to_highlight = {
			region = france_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				region = france_region
			}
		}

		effect = {
			add_power_projection = {
				type = mission_rewards_power_projection
				amount = 100
			}
			add_prestige_or_monarch_power = { amount = 100 }
			add_country_modifier = {
				name = tm_mor_crusader_kings_modifier
				duration = -1
			}
		}
	}
}

tm_morocco_eco_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_a_new_gold_mine = {
		icon = mission_war_chest
		position = 16
		required_missions = { }

		provinces_to_highlight = {
			province_id = 346
		}

		trigger = {
			346 = {
				owned_by = ROOT
				base_production = 10
			}
		}

		effect = {
			346 = {
				add_base_production = 2
				add_province_modifier = {
					name = tm_CRI_stability_of_gold
					duration = -1
				}
			}
		}
	}

	tm_mor_saffron = {
		icon = mission_saffron_production_begins
		required_missions = { tm_mor_a_new_gold_mine gc_mor_saharan_route }

		provinces_to_highlight = {
			region = maghreb_region
			trade_goods = saffron
			OR = {
				has_production_building = no
				NOT = { base_production = 8 }
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 4
				trade_goods = saffron
				has_production_building = yes
				base_production = 8
			}
		}

		effect = {
			custom_tooltip = tm_mor_saffron_upgrade
			hidden_effect = {
				every_owned_province = {
					limit = {
						trade_goods = saffron
					}
					add_building = counting_house
					add_base_production = 1
				}
			}
		}
	}

	tm_mor_saffron_2 = {
		icon = mission_saffron_production_ramps_up
		required_missions = { tm_mor_saffron }

		provinces_to_highlight = {
			OR = {
				AND = {
					trade_goods = saffron
					OR = {
						region = maghreb_region
						region = egypt_region
					}
				}
				AND = {
					OR = {
						province_id = 2456
						province_id = 5046
						province_id = 2450
						province_id = 4989
					}
					OR = {
						NOT = { country_or_non_sovereign_subject_holds = ROOT }
						has_production_building = no
						has_manufactory = no
						NOT = { development = 15 }
					}
				}
			}
		}

		trigger = {
			2456 = { country_or_non_sovereign_subject_holds = ROOT has_production_building = yes has_manufactory = yes development = 15 }
			5046 = { country_or_non_sovereign_subject_holds = ROOT has_production_building = yes has_manufactory = yes development = 15 }
			2450 = { country_or_non_sovereign_subject_holds = ROOT has_production_building = yes has_manufactory = yes development = 15 }
			4989 = { country_or_non_sovereign_subject_holds = ROOT has_production_building = yes has_manufactory = yes development = 15 }
			trading_part = {
				trade_goods = saffron
				value = 0.30
			}
		}

		effect = {
			2456 = { change_trade_goods = saffron add_base_production = 2 }
			5046 = { change_trade_goods = saffron add_base_production = 2 }
			2450 = { change_trade_goods = saffron add_base_production = 2 }
			4989 = { change_trade_goods = saffron add_base_production = 2 }
			if = { limit = { 4988 = { country_or_non_sovereign_subject_holds = ROOT } } 4988 = { change_trade_goods = saffron add_base_production = 2 } }
			if = { limit = { 358 = { country_or_non_sovereign_subject_holds = ROOT } } 358 = { change_trade_goods = saffron add_base_production = 2 } }
		}
	}
}

tm_mor_colonisation_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_colonial_ambition = {
		icon = mission_claim_the_canaries
		required_missions = {  }
		position = 19
		
		provinces_to_highlight = {
			is_capital_of = ROOT
		}
		
		trigger = {
			monthly_income = 70
			navy_size = 40
			sailors = 5000
		}
		
		effect = {
			add_sailors = -5000
			macaronesia_area = { add_perma_claim = yes }
			add_country_modifier = {
				name = "mor_beyond_the_canaries"
				duration = 9125
			}
			add_mercantilism = 3
			create_explorer = { tradition = 75 }
		}
	}

	adu_explore_further = {
		icon = mission_look_west
		required_missions = { tm_mor_colonial_ambition }
		position = 21
		
		provinces_to_highlight = {}
		
		trigger = {
			treasury = 250
			manpower = 2
			calc_true_if = {
				amount = 10
				all_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					has_discovered = ROOT
				}
			}
		}
		
		effect = {
			add_treasury = -250
			add_manpower = -2
			custom_tooltip = tm_navy_trad_from_explorers_tt
			set_country_flag = tm_navy_trad_from_explorers
			define_conquistador = {
				shock = 5
				fire = 5
				manuever = 6
				siege = 2
				name = "Mustafa Azemmouri"
			}
		}
	}

	gc_mor_new_world = {
		icon = mission_new_world_power
		required_missions = { adu_explore_further }
		position = 23
		
		provinces_to_highlight = {
			OR = {
				continent = north_america
				continent = south_america
			}
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 50
				OR = {
					continent = north_america
					continent = south_america
				}
			}
			any_subject_country = {
				OR = {
					is_subject_of_type = crown_colony
					is_subject_of_type = private_enterprise
					is_subject_of_type = self_governing_colony
				}
				total_development = 500
			}
		}
		
		effect = {
			add_mercantilism = 5
			add_country_modifier = {
				name = "mor_new_world_power"
				duration = -1
			}
			custom_tooltip = tm_mor_new_world_power_miss_tt_1
			if = {
				limit = { mission_completed = tm_mor_carribean_control }
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				add_country_modifier = {
					name = tm_mor_new_world_power_carribean
					duration = -1
				}
			}
			custom_tooltip = tm_mor_new_world_power_miss_tt_2
			if = {
				limit = { mission_completed = tm_mor_colombia_control }
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				add_country_modifier = {
					name = tm_mor_new_world_power_colombia
					duration = -1
				}
			}
			custom_tooltip = tm_mor_new_world_power_miss_tt_3
			if = {
				limit = { mission_completed = tm_mor_peru_control }
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				add_country_modifier = {
					name = tm_mor_new_world_power_peru
					duration = -1
				}
			}
			custom_tooltip = tm_mor_new_world_power_miss_tt_4
			if = {
				limit = { mission_completed = tm_mor_brazil_control }
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				add_country_modifier = {
					name = tm_mor_new_world_power_brazil
					duration = -1
				}
			}
			custom_tooltip = tm_mor_new_world_power_miss_tt_5
			if = {
				limit = { mission_completed = tm_mor_argentina_control }
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				add_country_modifier = {
					name = tm_mor_new_world_power_plata
					duration = -1
				}
			}
			hidden_effect = {
				if = {
					limit = { mission_completed = tm_mor_carribean_control }
					add_country_modifier = {
						name = tm_mor_new_world_power_carribean
						duration = -1
					}
				}
				if = {
					limit = { mission_completed = tm_mor_colombia_control }
					add_country_modifier = {
						name = tm_mor_new_world_power_colombia
						duration = -1
					}
				}
				if = {
					limit = { mission_completed = tm_mor_peru_control }
					add_country_modifier = {
						name = tm_mor_new_world_power_peru
						duration = -1
					}
				}
				if = {
					limit = { mission_completed = tm_mor_brazil_control }
					add_country_modifier = {
						name = tm_mor_new_world_power_brazil
						duration = -1
					}
				}
				if = {
					limit = { mission_completed = tm_mor_argentina_control }
					add_country_modifier = {
						name = tm_mor_new_world_power_plata
						duration = -1
					}
				}
			}
		}
	}
}



gc_morocco_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes
	
	gc_mor_imperial_cities = {
		icon = mission_imperial_cities
		required_missions = { }
		position = 1
		
		provinces_to_highlight = {
			OR = {
				province_id = 343
				province_id = 344
				province_id = 342
				province_id = 2467
			}
			NOT = {
				OR = {
					has_tax_building_trigger = yes
					development = 15
				}
			}
		}

		trigger = {
			343 = {
				owned_by = ROOT
				OR = {
					has_tax_building_trigger = yes
					development = 15
				}
			}
			344 = {
				owned_by = ROOT
				OR = {
					has_tax_building_trigger = yes
					development = 15
				}
			}
			2467 = {
				owned_by = ROOT
				OR = {
					has_tax_building_trigger = yes
					development = 15
				}
			}
			342 = {
				owned_by = ROOT
				OR = {
					has_tax_building_trigger = yes
					development = 15
				}
			}
		}

		effect = {
			country_event = {
				id = flavor_mor.12
			}
		}
	}

	tm_mor_reform_government = {
		icon = mission_restore_faith_in_the_throne
		required_missions = { gc_mor_imperial_cities }
		position = 2
		
		provinces_to_highlight = {
			owned_by = ROOT
			local_autonomy = 25
		}

		trigger = {
			legitimacy_equivalent = 80
			government_reform_progress = 30
			NOT = { average_autonomy = 25 }
			grown_by_development = 200
		}

		effect = {
			change_government_reform_progress = -20
			set_country_flag = a_time_of_change
			add_government_reform = moroccan_monarchy
		}
	}

	tm_mor_claim_the_coast = {
		icon = mission_arabian_sea_trade
		required_missions = { gc_mor_algiers }
		position = 3

		provinces_to_highlight = {
			
		}

		trigger = {
			navy_size = 30
		}

		effect = {
			kabylia_area = { add_perma_claim = yes }
			tunisia_area = { add_perma_claim = yes }
			kef_area = { add_perma_claim = yes }
			djerba_area = { add_perma_claim = yes }
		}
	}

	gc_mor_tunis = {
		icon = mission_conquer_tunis
		required_missions = { tm_mor_claim_the_coast }

		provinces_to_highlight = {
			OR = {
				area = kabylia_area
				area = tunisia_area
				area = djerba_area
				area = kef_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				OR = {
					area = kabylia_area
					area = tunisia_area
					area = djerba_area
					area = kef_area
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = "mor_tunis_conquest"
				duration = 7300
			}
			western_sicily_area = { add_perma_claim = yes }
			sicily_area = { add_perma_claim = yes }
			corsica_sardinia_area = { add_perma_claim = yes }
			corsica_area = { add_perma_claim = yes }
			baleares_area = { add_perma_claim = yes }
		}
	}

	tm_mor_mediterranean_islands = {
		icon = mission_mediterranean_islands
		required_missions = { gc_mor_tunis }

		provinces_to_highlight = {
			OR = {
				area = western_sicily_area
				area = sicily_area
				area = corsica_sardinia_area
				area = corsica_area
				area = baleares_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				OR = {
					area = western_sicily_area
					area = sicily_area
					area = corsica_sardinia_area
					area = corsica_area
					area = baleares_area
				}
			}
		}

		effect = {
			if = {
				limit = {
					NOT = {
						any_province = {
							country_or_non_sovereign_subject_holds = ROOT
							OR = {
								area = western_sicily_area
								area = sicily_area
								area = corsica_sardinia_area
								area = corsica_area
								area = baleares_area
							}
						}
					}
				}
				tooltip = {
					custom_tooltip = tm_mor_islands_reward_tt
					add_base_tax = 4
					add_base_production = 4
					add_province_modifier = {
						name = "adu_trade_hub"
						duration = -1
					}
				}
			}
			if = {
				limit = {
					any_province = {
						country_or_non_sovereign_subject_holds = ROOT
						OR = {
							area = western_sicily_area
							area = sicily_area
							area = corsica_sardinia_area
							area = corsica_area
							area = baleares_area
						}
						province_has_center_of_trade_of_level = 1
					}
				}
				random_province = {
					limit = {
						country_or_non_sovereign_subject_holds = ROOT
						OR = {
							area = western_sicily_area
							area = sicily_area
							area = corsica_sardinia_area
							area = corsica_area
							area = baleares_area
						}
						province_has_center_of_trade_of_level = 1
					}
					add_base_tax = 4
					add_base_production = 4
					add_province_modifier = {
						name = "adu_trade_hub"
						duration = -1
					}
				}
			}
			else = {
				random_province = {
					limit = {
						country_or_non_sovereign_subject_holds = ROOT
						OR = {
							area = western_sicily_area
							area = sicily_area
							area = corsica_sardinia_area
							area = corsica_area
							area = baleares_area
						}
					}
					add_base_tax = 4
					add_base_production = 4
					add_province_modifier = {
						name = "adu_trade_hub"
						duration = -1
					}
				}
			}
			calabria_area = { add_perma_claim = yes	}
			naples_area = { add_perma_claim = yes }
			apulia_area = { add_perma_claim = yes }			
		}
	}

	tm_mor_into_italy = {
		icon = mission_impaled_soldies
		required_missions = { tm_mor_mediterranean_islands }

		provinces_to_highlight = {
			region = italy_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				region = italy_region
			}
		}

		effect = {
			italy_region = { add_perma_claim = yes }
			add_country_modifier = {
				name = tm_mor_riches_of_italy
				duration = 7300
			}
			add_prestige_or_monarch_power = { amount = 75 }
		}
	}

	tm_mor_prepare_for_jihad = {
		icon = mission_castillian_aggression
		required_missions = { }
		position = 8

		provinces_to_highlight = {}
		
		trigger = {
			if = {
				limit = { exists = CAS }
				CAS = { has_been_insulted_by_root = yes }
			}
			else_if = {
				limit = { exists = SPA }
				SPA = { has_been_insulted_by_root = yes }
			}
			else = {
				power_projection = 30
			}
			prestige = 25
			employed_advisor = {
				category = ADM
				religion = ROOT
			}
			employed_advisor = {
				category = DIP
				religion = ROOT
			}
			employed_advisor = {
				category = MIL
				religion = ROOT
			}
		}

		effect = {
			upper_andalucia_area = { add_perma_claim = yes }
			lower_andalucia_area = { add_perma_claim = yes }
			algarve_area = { add_perma_claim = yes }
			if = {
				limit = {
					OR = {
						AND = {
							exists = CAS
							CAS = {
								has_opinion_modifier = {
									who = ROOT
									modifier = scornfully_insulted
								}
							}
						}
						AND = {
							exists = SPA
							SPA = {
								has_opinion_modifier = {
									who = ROOT
									modifier = scornfully_insulted
								}
							}
						}
					}
				}
				create_general = {
					tradition = 100
				}
			}
			else = {
				create_general = {
					tradition = 60
				}
			}
		}
	}

	tm_mor_infiltrate_spanish_administration = {
		icon = mission_eliminate_pretenders
		required_missions = { tm_mor_prepare_for_jihad }
		position = 9

		provinces_to_highlight = {
			
		}

		trigger = {
			spymaster = 2
			if = {
				limit = {
					exists = CAS
				}
				has_spy_network_in = {
					who = CAS
					value = 50
				}
			}
			else_if = {
				limit = {
					exists = SPA
				}
				has_spy_network_in = {
					who = SPA
					value = 50
				}
			}
			else_if = {
				limit = {
					NOT = { 226 = { country_or_non_sovereign_subject_holds = ROOT } }
				}
				226 = {
					owner = {
						has_spy_network_from = {
							who = ROOT
							value = 50
						}
					}
				}
			}
			else = {
				226 = { NOT = { local_autonomy = 15 } }
			}
		}

		effect = {
			if = {
				limit = { 226 = { country_or_non_sovereign_subject_holds = ROOT } }
				add_random_development = 1
			}
			else = {
				country_event = {
					id = morocco_flavour.2
				}
				custom_tooltip = tm_event_insight_insight_tt
				custom_tooltip = tm_event_insight_option_1
				custom_tooltip = tm_mor_infiltrate_spanish_administration_tt
				custom_tooltip = tm_event_insight_option_2
				custom_tooltip = tm_mor_infiltrate_spanish_administration_2_tt
			}
		}
	}

	tm_mor_reconvert_lands = {
		icon = mission_quran
		required_missions = { tm_mor_crossed_the_straight }
		position = 11
		
		provinces_to_highlight = {
			OR = {
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
				NOT = { religion = ROOT }
			}
			region = iberia_region
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				region = iberia_region
				religion = ROOT
			}
		}
		
		effect = {
			custom_tooltip = tm_mor_every_owned_province_in_iberia
			tooltip = {
				add_province_modifier = {
					name = gra_rebuilding_mosques
					duration = 7300
				}
			}
			every_province = {
				limit = {
					country_or_non_sovereign_subject_holds = ROOT
					region = iberia_region
				}
				add_province_modifier = {
					name = gra_rebuilding_mosques
					duration = 7300
				}
			}
			change_piety_effect = { amount = 0.25 }
		}
	}

	tm_mor_continue_conversion = {
		icon = per_convert_persia
		required_missions = { tm_mor_push_further tm_mor_reconvert_lands }
		
		provinces_to_highlight = {
			region = iberia_region
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { religion_group = ROOT }
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				region = iberia_region
				religion_group = ROOT
			}
		}
		
		effect = {
			custom_tooltip = ARB_grant_access_to_muslim_holy_orders
			set_country_flag = ARB_grant_access_to_muslim_holy_orders_flag
			custom_tooltip = tm_blank_line
			define_advisor = {
				type = inquisitor
				skill = 3
				culture = ROOT
				religion = ROOT
				cost_multiplier = 0.2
			}
		}
	}

	tm_mor_restore_iberia = {
		icon = mission_islamic_golden_age
		required_missions = { tm_mor_reclaim_iberia tm_mor_continue_conversion tm_mor_cultural_acceptance }
		
		provinces_to_highlight = {
			region = iberia_region
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { religion_group = ROOT }
				has_tax_building_trigger = no
			}
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 50
				region = iberia_region
				religion_group = ROOT
				has_tax_building_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 25
				has_holy_order_trigger = yes
			}
		}
		
		effect = {
			change_ruler_stat = {
				type = adm
				amount = 1
			}
			change_ruler_stat = {
				type = dip
				amount = 1
			}
			change_ruler_stat = {
				type = mil
				amount = 1
			}
			add_ruler_personality = zealot_personality
			add_ruler_modifier = {
				name = tm_mor_reclaimed_iberia
			}
		}
	}
}

mor_slot_4_mali_diplomacy_placeholders = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		NOT = { has_country_flag = tm_mor_friendly_mal }
		NOT = { has_country_flag = tm_mor_hostile_mal }
	}
	has_country_shield = yes

	tm_mor_approach_to_mali_placeholder_1 = {
		icon = mission_locked_mission
		required_missions = { tm_mor_approach_to_mal }
		position = 14

		provinces_to_highlight = {}
		trigger = {
			custom_trigger_tooltip = { tooltip = tm_mor_mal_dip_this_is_a_branching_mission always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_friendly_miss_1_req always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_hostile_miss_1_req always = no }
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_choice_reward
			tooltip = {
				custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
				if = {
					limit = {
						NOT = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_placeholder_1 } }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				tooltip = {
					2465 = { change_trade_goods = gold add_base_production = 3 }
					event_target:mali_event_target = { 2249 = { change_trade_goods = saffron add_base_production = 3 } }
				}
				custom_tooltip = mission_alternatively_tt
				custom_tooltip = tm_mor_mal_dip_friendly_if_they_have
				if = {
					limit = {
						event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_placeholder_1 }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				tooltip = {
					custom_tooltip = tm_any_time_we_are_allied_tt
					add_country_modifier = {
						name = tm_mal_mor_trading_agreements
						duration = -1
					}
					custom_tooltip = tm_ally_has_effects_too
				}
			}
			custom_tooltip = tm_mal_eth_dip_hostile_choice_reward
			tooltip = {
				niger_region = { add_perma_claim = yes }
				add_treasury = 1000
				add_country_modifier = {
					name = "mor_black_guard"
					duration = -1
				}
			}
		}
	}
}

mor_slot_4_mali_diplomacy_friendly = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		has_country_flag = tm_mor_friendly_mal
	}
	has_country_shield = yes

	mor_approach_to_mal_friendly_1 = {
		icon = mission_high_income
		required_missions = { tm_mor_approach_to_mal }
		position = 14

		provinces_to_highlight = {
			owned_by = ROOT
			OR = {
				AND = {
					province_has_center_of_trade_of_level = 1
					OR = {
						has_trade_building_trigger = no
						NOT = { base_production = 8 }
						NOT = { province_has_center_of_trade_of_level = 2 }
					}
				}
				AND = {
					province_id = 2465
					OR = {
						NOT = { development = 15 }
						NOT = { num_of_buildings_in_province = 3 }
						has_trade_building_trigger = no
					}
				}
			}
		}
		trigger = {
			event_target:mali_event_target = {
				alliance_with = ROOT
				has_opinion = {
					who = ROOT
					value = 150
				}
			}
			2465 = {
				owned_by = ROOT
				development = 15
				num_of_buildings_in_province = 3
				has_trade_building_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 5
				OR = {
					has_trade_building_trigger = yes
					province_has_center_of_trade_of_level = 2
				}
				base_production = 8
			}
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
			if = {
				limit = {
					NOT = {
						event_target:mali_event_target = {
							mission_completed = mal_approach_to_morocco_friendly_1
						}
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				2465 = { change_trade_goods = gold add_base_production = 3 }
				MAL = { 2249 = { change_trade_goods = saffron add_base_production = 3 } }
			}
			custom_tooltip = mission_alternatively_tt
			custom_tooltip = tm_mor_mal_dip_friendly_if_they_have
			if = {
				limit = {
					event_target:mali_event_target = {
						mission_completed = mal_approach_to_morocco_friendly_1
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				custom_tooltip = tm_any_time_we_are_allied_tt
				add_country_modifier = {
					name = tm_mal_mor_trading_agreements
					duration = -1
				}
				custom_tooltip = tm_ally_has_effects_too
			}
			hidden_effect = {
				if = {
					limit = { NOT = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_1	} } }
					2249 = { change_trade_goods = saffron add_base_production = 3 }
					2465 = { change_trade_goods = gold add_base_production = 3 }
				}
				if = {
					limit = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_1	} }
					set_country_flag = tm_mal_mor_trade_agreements_flag
					add_country_modifier = {
						name = tm_mal_mor_trading_agreements
						duration = -1
					}
					event_target:mali_event_target = {
						set_country_flag = tm_mal_mor_trade_agreements_flag
						add_country_modifier = {
							name = tm_mal_mor_trading_agreements
							duration = -1
						}
					}
				}
			}
		}
	}
}

mor_slot_4_mali_diplomacy_hostile = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		has_country_flag = tm_mor_hostile_mal
	}
	has_country_shield = yes

	mor_approach_to_mal_hostile_1 = {
		icon = mission_establish_the_black_guard
		required_missions = { mor_approach_to_mal_hostile_2 }
		position = 15

		provinces_to_highlight = {
			OR = {
				area = massina_area
				area = manding_area
				area = futa_jallon_area
				area = jenne_area
				area = baghena_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				OR = {
					area = massina_area
					area = manding_area
					area = futa_jallon_area
					area = jenne_area
					area = baghena_area
				}
			}
		}
		effect = {
			niger_region = { add_perma_claim = yes }
			add_treasury = 1000
			add_country_modifier = {
				name = "mor_black_guard"
				duration = -1
			}
		}
	}
}

tm_morocco_eco_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	gc_mor_saharan_route = {
		icon = mission_saharan_route
		required_missions = { }
		position = 16
		
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 2466
					OR = {
						NOT = { owned_by = ROOT }
						NOT = {
							OR = {
								province_has_center_of_trade_of_level = 2
								has_trade_building_trigger = yes
							}
						}
						NOT = { development = 15 }
					}
				}				
				province_id = 343
			}
		}

		trigger = {
			343 = {
				is_strongest_trade_power = ROOT
			}
			if = {
				limit = {
					has_dlc = "Dharma"
				}
				2466 = {
					OR = {
						province_has_center_of_trade_of_level = 2
						has_trade_building_trigger = yes
					}
					development = 15
				}
			}
			else = {
				2466 = {
					has_trade_building_trigger = yes
					development = 15
				}
			}
		}

		effect = {
			if = {
				limit = {
					1127 = {
						is_empty = yes
						any_neighbor_province = {
							owned_by = ROOT
						}
					}
				}
				set_country_flag = mor_sudanese_expedition
				country_event = { id = flavor_mor.9 }
			}
			add_country_modifier = {
				name = mor_saharan_trade
				duration = 7300
			}
		}
	}

	tm_mor_improving_trade = {
		icon = mam_harness_spice_trade
		required_missions = { gc_mor_saharan_route tm_mor_port_of_sebta }
		position = 17
		
		provinces_to_highlight = {
			owned_by = ROOT
			province_has_center_of_trade_of_level = 1
			OR = {
				has_trade_building_trigger = no
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
		}

		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				has_trade_building_trigger = yes
				province_has_center_of_trade_of_level = 2
			}
		}

		effect = {
			add_treasury = 500
			set_country_flag = tm_mor_improving_trade_flag
			custom_tooltip = tm_mor_improving_trade_tt
			hidden_effect = {
				every_owned_province = {
					limit = {
						has_trade_building_trigger = yes
					}
					add_base_production = 1
					add_province_modifier = {
						name = tm_mor_improving_trade_modifier
						duration = -1
					}
				}
			}
		}
	}

	tm_mor_great_trading_empire = {
		icon = mission_silk_road
		required_missions = { tm_mor_improving_trade }
		position = 18
		
		provinces_to_highlight = {
			OR = {
				AND = {
					province_id = 4568
					OR = {
						NOT = {
							has_great_project = {
								type = ait_benhaddou
								tier = 3
							}
						}
						NOT = { development = 20 }
						NOT = { owned_by = ROOT }
					}					
				}
				AND = {
					province_id = 343
					NOT = {
						trade_share = {
							country = ROOT
							share = 66
						}
					}
				}
			}
		}

		trigger = {
			monthly_income = 100
			4568 = {
				owned_by = ROOT
				has_great_project = {
					type = ait_benhaddou
					tier = 3
				}
				development = 20
			}
			343 = {
				trade_share = {
					country = ROOT
					share = 66
				}
			}
		}

		effect = {
			4568 = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
			custom_tooltip = tm_improved_ait_benhaddou_tt
		}
	}
}

tm_mor_colonisation_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_brazil_start = {
		icon = mission_colonise_brazil
		required_missions = { tm_mor_colonial_ambition }
		position = 20
		
		provinces_to_highlight = {
			colonial_region = colonial_brazil
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				colonial_region = colonial_brazil
				is_city = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = "mor_colonized_brazil"
				duration = 9125
			}
		}
	}

	tm_mor_brazil_control = {
		icon = colonize_brazil
		required_missions = { tm_mor_brazil_start }
		
		provinces_to_highlight = {
			colonial_region = colonial_brazil
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				colonial_region = colonial_brazil
				is_city = yes
			}
		}
		
		effect = {
			add_stability = 1
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
			343 = { add_trade_node_income = 12 }
		}
	}

	tm_mor_build_brazilian_strength = {
		icon = imperial_capitals
		required_missions = { tm_mor_brazil_control }
		
		provinces_to_highlight = {
			colonial_region = colonial_brazil
			has_discovered = ROOT
		}
		
		trigger = {
			any_subject_country = {
				capital_scope = {
					colonial_region = colonial_brazil
				}
				total_development = 450
				num_of_owned_provinces_with = {
					value = 15
					num_of_buildings_in_province = 2
				}
			}
		}
		
		effect = {
			add_country_modifier = {
				name = tm_mor_powerful_brazil
				duration = -1
			}
		}
	}
}


gc_morocco_5_a = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_integrate_sus = {
		icon = mission_reclaim_morocco
		required_missions = { }
		position = 1
		
		provinces_to_highlight = {
			owned_by = SOS
		}

		trigger = {
			if = {
				limit = { exists = SOS }
				SOS = {
					is_subject_of = ROOT
					has_opinion = {
						who = ROOT
						value = 170
					}
				}
				OR = {
					diplomat = 1
					statesman = 1
				}
			}
			else = {
				owns_core_province = 2464
				owns_core_province = 348
				owns_core_province = 1110
				owns_core_province = 347
			}
		}

		effect = {
			if = {
				limit = {
					SOS = {
						exists = yes
						is_subject_of = ROOT
					}
				}
				2464 = { add_core = ROOT }
				348 = { add_core = ROOT }
				1110 = { add_core = ROOT }
				347 = { add_core = ROOT }
			}			
			else = {
				2464 = { add_random_development = 1 }
				348 = { add_random_development = 1 }
				1110 = { add_random_development = 1 }
				347 = { add_random_development = 1 }
			}
		}
	}

	tm_mor_colonise_hamra = {
		icon = mission_conquer_malwa_bah
		required_missions = { gc_mor_imperial_cities tm_mor_integrate_sus }
		position = 2
		
		provinces_to_highlight = {
			province_id = 1110
			OR = {
				NOT = { development = 15 }
				NOT = { province_has_center_of_trade_of_level = 2 }
			}
		}

		trigger = {
			1110 = {
				owned_by = ROOT
				province_has_center_of_trade_of_level = 2
				development = 15
			}
		}

		effect = {
			create_colony_mission_reward = {
				province = 4942
			}
		}
	}

	tm_mor_corsairs_of_the_mediterranean = {
		icon = mission_corsairs_of_the_north_sea
		required_missions = { tm_mor_claim_the_coast }
		position = 4
		
		provinces_to_highlight = {
			OR = {
				AND = {
					OR = {
						province_id = 101
						province_id = 2980
						province_id = 1247
						province_id = 118
						province_id = 201
					}
					OR = {
						NOT = { devastation = 5 }
						NOT = { has_province_modifier = block_slave_raid_area_m }
					}
				}
				AND = {
					province_id = 1298
					NOT = {
						1298 = {
							privateer_power = {
								country = ROOT
								share = 33
							}
						}
					}
				}
			}
		}

		trigger = {
			1298 = {
				privateer_power = {
					country = ROOT
					share = 33
				}
			}
			101 = {
				OR = {
					devastation = 5
					has_province_modifier = block_slave_raid_area_m
				}
			}
			2980 = {
				OR = {
					devastation = 5
					has_province_modifier = block_slave_raid_area_m
				}
			}
			1247 = {
				OR = {
					devastation = 5
					has_province_modifier = block_slave_raid_area_m
				}
			}
			118 = {
				OR = {
					devastation = 5
					has_province_modifier = block_slave_raid_area_m
				}
			}
			201 = {
				OR = {
					devastation = 5
					has_province_modifier = block_slave_raid_area_m
				}
			}
			naval_forcelimit = 50
			navy_size_percentage = 1.0
			num_of_admirals = 2
			OR = {
				num_of_heavy_ship = 20
				num_of_galley = 100
			}
			num_of_light_ship = 25
		}

		effect = {
			add_country_modifier = {
				name = mor_north_sea_corsairs
				duration = -1
			}
		}
	}

	tm_moroccan_shipbuilding = {
		icon = mission_conquer_andhra_bah
		required_missions = {}
		position = 7

		provinces_to_highlight = {
			owned_by = ROOT
			has_port = yes
		}

		trigger = {
			num_of_light_ship = 10
			OR = {
				num_of_galley = 20
				num_of_heavy_ship = 6
			}
			num_of_admirals = 1
		}

		effect = {
			add_country_modifier = {
				name = mor_shipbuilding
				duration = 7300
			}
		}
	}

	tm_mor_a_moroccan_fleet = {
		icon = mission_raid_christian_trade
		required_missions = { tm_moroccan_shipbuilding tm_mor_prepare_for_jihad }
		position = 9
		
		provinces_to_highlight = {
			owned_by = ROOT
			has_port = yes
			has_navy_building = no
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 8
				has_navy_building = yes
			}
			has_flagship = yes
			OR = {
				if = {
					limit = { exists = CAS }
					navy_size = CAS
				}
				else_if = {
					limit = { exists = SPA }
					navy_size = SPA
				}
				else = {
					navy_size_percentage = 0.7
				}
				navy_size = 40
			}
			
		}
		
		effect = {
			create_admiral = { tradition = 75 add_manuever = 2 }
			add_country_modifier = {
				name = tm_mor_prepared_navies
				duration = 3650
			}
		}
	}

	tm_mor_a_moroccan_armada = {
		icon = mission_aragonese_navy
		required_missions = { tm_mor_a_moroccan_fleet }
		position = 10
		
		provinces_to_highlight = {
			owned_by = ROOT
			has_port = yes
			has_navy_building = no
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 20
				has_navy_building = yes
			}
			has_flagship = yes
			OR = {
				num_of_heavy_ship = 20
				num_of_galley = 75
			}
			navy_size = 80
		}
		
		effect = {
			add_navy_tradition = 20
			add_country_modifier = {
				name = tm_mor_moroccan_armada
				duration = -1
			}
		}
	}

	tm_mor_cultural_acceptance = {
		icon = spa_infantes_aragon
		required_missions = { tm_mor_reconvert_lands }
		position = 12
		
		provinces_to_highlight = {
			region = iberia_region
			culture_group = iberian
			OR = {
				unrest = 2
				nationalism = 5
			}
			owned_by = ROOT
		}
		
		trigger = {
			num_of_owned_provinces_with = {
				value = 30
				culture_group = iberian
				NOT = { unrest = 2 }
				NOT = { nationalism = 5 }
			}
		}
		
		effect = {
			add_country_modifier = {
				name = tm_mor_accept_iberia
				duration = -1
			}
			add_accepted_culture_or_dip_power = { culture = andalucian }
			add_accepted_culture = castillian
			add_accepted_culture = catalan
			add_accepted_culture = portugese
		}
	}

	tm_mor_approach_to_mal = {
		icon = befriend_ethiopia
		required_missions = { }
		position = 13
		
		provinces_to_highlight = {
			is_capital_of = event_target:mali_event_target
		}

		trigger = {
			OR = {
				event_target:mali_event_target = { 
					alliance_with = ROOT
					has_opinion = {
						who = ROOT
						value = 125
					}
				}
				event_target:mali_event_target = { has_been_insulted_by_root = yes }				
			}
		}

		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_choice_reward_first_mission
			if = {
				limit = {
					event_target:mali_event_target = { alliance_with = ROOT }
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				define_advisor = {
					type = diplomat
					skill = 3
					cost_multiplier = 0.33
					religion = event_target:mali_event_target
					culture = event_target:mali_event_target
				}
				custom_tooltip = tm_ally_has_effects_too
				add_historical_friend = event_target:mali_event_target
				custom_tooltip = tm_mor_unlock_friendly_mal
			}

			custom_tooltip = mission_alternatively_tt
			custom_tooltip = tm_mal_mor_dip_hostile_choice_reward_first_mission
			if = {
				limit = {
					event_target:mali_event_target = { OR = { has_been_insulted_by_root = yes war_with = ROOT } }
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				western_sahara_area = { add_perma_claim = yes }
				north_timbaktu_area = { add_perma_claim = yes }
				baghena_area = { add_perma_claim = yes }
				niger_bend_area = { add_perma_claim = yes }
				add_manpower = 10
				custom_tooltip = tm_mor_unlock_hostile_mal
			}
			hidden_effect = {
				if = {
					limit = { event_target:mali_event_target = { alliance_with = ROOT } }
					add_historical_friend = event_target:mali_event_target
					define_advisor = {
						type = diplomat
						skill = 3
						cost_multiplier = 0.33
						religion = event_target:mali_event_target
						culture = event_target:mali_event_target
					}
					event_target:mali_event_target = {
						define_advisor = {
							type = diplomat
							skill = 3
							cost_multiplier = 0.33
							religion = ROOT
							culture = ROOT
						}
					}
					set_country_flag = tm_mor_friendly_mal
					swap_non_generic_missions = yes
				}
				else = {
					western_sahara_area = { add_perma_claim = yes }
					north_timbaktu_area = { add_perma_claim = yes }
					baghena_area = { add_perma_claim = yes }
					niger_bend_area = { add_perma_claim = yes }
					add_manpower = 10
					set_country_flag = tm_mor_hostile_mal
					swap_non_generic_missions = yes
				}
			}
		}
	}
}

mor_slot_5_mali_diplomacy_placeholders = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		NOT = { has_country_flag = tm_mor_friendly_mal }
		NOT = { has_country_flag = tm_mor_hostile_mal }
	}
	has_country_shield = yes

	tm_mor_approach_to_mali_placeholder_2 = {
		icon = mission_locked_mission
		required_missions = { tm_mor_approach_to_mal }
		position = 14

		provinces_to_highlight = {}
		trigger = {
			custom_trigger_tooltip = { tooltip = tm_mor_mal_dip_this_is_a_branching_mission always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_friendly_miss_2_req always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_hostile_miss_2_req always = no }
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_choice_reward
			tooltip = {
				custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
				if = {
					limit = {
						NOT = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_2 } }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				tooltip = {
					custom_tooltip = tm_mal_mor_build_road_effect_tt
				}
				custom_tooltip = mission_alternatively_tt
				custom_tooltip = tm_mor_mal_dip_friendly_if_they_have
				if = {
					limit = {
						event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_2 }
					}
					custom_tooltip = BONUS_REWARD_YES
				}
				else = { custom_tooltip = BONUS_REWARD_NO }
				tooltip = {
					custom_tooltip = tm_mal_mor_build_road_2_effect_tt
				}
			}
			custom_tooltip = tm_mal_eth_dip_hostile_choice_reward
			tooltip = {
				jenne_area = { add_perma_claim = yes }
				upper_volta_area = { add_perma_claim = yes }
				massina_area = { add_perma_claim = yes }
				dendi_area = { add_perma_claim = yes }
				azbin_area = { add_perma_claim = yes }
				east_azbin_area = { add_perma_claim = yes }
				manding_area = { add_perma_claim = yes }
				futa_jallon_area = { add_perma_claim = yes }
				tekrur_area = { add_perma_claim = yes }
				katsina_area = { add_perma_claim = yes }
				kong_area = { add_perma_claim = yes }
				add_country_modifier = {
					name = conquest_of_benin_mor
					duration = 7300
				}
			}
		}
	}

	tm_mor_approach_to_mali_placeholder_3 = {
		icon = mission_locked_mission
		required_missions = { tm_mor_approach_to_mali_placeholder_2 }

		provinces_to_highlight = {}
		trigger = {
			custom_trigger_tooltip = { tooltip = tm_mor_mal_dip_this_is_a_branching_mission always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_friendly_miss_3_req always = no }
			#custom_trigger_tooltip = { tooltip = tm_mal_mor_dip_hostile_miss_3_req always = no }
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_choice_reward
			custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
			if = {
				limit = {
					NOT = {
						event_target:mali_event_target = {
							mission_completed = mal_approach_to_morocco_friendly_3
						}
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			custom_tooltip = tm_mal_mor_manpower_against_iberia
			tooltip = {
				define_advisor = {
					type = recruitmaster
					skill = 2
					cost_multiplier = 0.3
					culture = event_target:mali_event_target
					religion = event_target:mali_event_target
				}
			}
			custom_tooltip = tm_ally_has_effects_too
			if = {
				limit = { current_age = age_of_discovery }
				custom_tooltip = tm_mal_mor_ally_can_use_last_stand
			}
			custom_tooltip = mission_alternatively_tt
			custom_tooltip = tm_mal_mor_dip_friendly_if_they_have
			if = {
				limit = {
					event_target:mali_event_target = {
						mission_completed = mal_approach_to_morocco_friendly_3
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			custom_tooltip = tm_mal_mor_manpower_against_iberia_2
			custom_tooltip = tm_ally_has_effects_too
			custom_tooltip = tm_mal_eth_dip_hostile_choice_reward
			tooltip = {
				add_country_modifier = {
					name = "mor_conquest_of_kanem"
					duration = 7300
				}
				custom_tooltip = tm_mal_claims_in_sahel
			}
		}
	}
}

mor_slot_5_mali_diplomacy_friendly = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		has_country_flag = tm_mor_friendly_mal
	}
	has_country_shield = yes

	mor_approach_to_mal_friendly_2 = {
		icon = mission_traverse_the_sahara
		required_missions = { tm_mor_approach_to_mal }

		provinces_to_highlight = {
			OR = {
				province_id = 1124
				province_id = 1123
				province_id = 2246
				province_id = 2247
				province_id = 1129
				province_id = 1128
				province_id = 4993
				province_id = 1127
				province_id = 2466
				province_id = 2464
				province_id = 4568
				province_id = 2468
				province_id = 5054
				province_id = 2467
				province_id = 343
			}
			OR = {
				NOT = {
					OR = {
						country_or_non_sovereign_subject_holds = ROOT
						country_or_non_sovereign_subject_holds = event_target:mali_event_target
					}
				}
				OR = {
					NOT = { num_of_times_improved = 1 }
					NOT = { num_of_buildings_in_province = 1 }
				}
			}
			
		}
		trigger = {
			event_target:mali_event_target = {
				alliance_with = ROOT
				has_opinion = {
					who = ROOT
					value = 150
				}
			}
			custom_trigger_tooltip = {
				tooltip = tm_mal_mor_build_road_trigger_tt
				1124 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				1123 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2246 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2247 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				1129 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				1128 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				4993 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				1127 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2466 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2464 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				4568 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2468 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				5054 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				2467 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
				343 = { OR = { country_or_non_sovereign_subject_holds = ROOT country_or_non_sovereign_subject_holds = event_target:mali_event_target } }
			}
			custom_trigger_tooltip = {
				tooltip = tm_mal_mor_build_road_trigger_2_tt
				1124 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				1123 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2246 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2247 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				1129 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				1128 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				4993 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				1127 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2466 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2464 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				4568 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2468 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				5054 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				2467 = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
				343  = { OR = { num_of_times_improved = 1 num_of_buildings_in_province = 1 owner = { adm_tech = 8 } } }
			}
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
			if = {
				limit = {
					NOT = {
						event_target:mali_event_target = {
							mission_completed = mal_approach_to_morocco_friendly_2
						}
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				custom_tooltip = tm_mal_mor_build_road_effect_tt
			}
			custom_tooltip = mission_alternatively_tt
			custom_tooltip = tm_mor_mal_dip_friendly_if_they_have
			if = {
				limit = {
					event_target:mali_event_target = {
						mission_completed = mal_approach_to_morocco_friendly_2
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				custom_tooltip = tm_mal_mor_build_road_2_effect_tt
			}
			hidden_effect = {
				if = {
					limit = { NOT = { event_target:mali_event_target = {mission_completed = mal_approach_to_morocco_friendly_2 } } }
					1124 = { add_building = road }
					1123 = { add_building = road }
					2246 = { add_building = road }
					2247 = { add_building = road }
					1129 = { add_building = road }
					1128 = { add_building = road }
					4993 = { add_building = road }
					1127 = { add_building = road }
					2466 = { add_building = road }
					2464 = { add_building = road }
					4568 = { add_building = road }
					2468 = { add_building = road }
					5054 = { add_building = road }
					2467 = { add_building = road }
					343 = { add_building = road }
				}
				if = {
					limit = { event_target:mali_event_target = {	mission_completed = mal_approach_to_morocco_friendly_2 } }
					1124 = { add_building = highway }
					1123 = { add_building = highway }
					2246 = { add_building = highway }
					2247 = { add_building = highway }
					1129 = { add_building = highway }
					1128 = { add_building = highway }
					4993 = { add_building = highway }
					1127 = { add_building = highway }
					2466 = { add_building = highway }
					2464 = { add_building = highway }
					4568 = { add_building = highway }
					2468 = { add_building = highway }
					5054 = { add_building = highway }
					2467 = { add_building = highway }
					343 = { add_building = highway }
				}
			}
		}
	}

	mor_approach_to_mal_friendly_3 = {
		icon = spa_reform_tercios
		required_missions = { mor_approach_to_mal_friendly_2 }
		position = 14

		provinces_to_highlight = {}
		trigger = {
			event_target:mali_event_target = {
				alliance_with = ROOT
				has_opinion = {
					who = ROOT
					value = 150
				}
			}
			army_size = 30
			any_rival_country = {
				OR = {
					tag = CAS
					tag = SPA
					tag = POR
					tag = PBR
					tag = PEA
				}
			}
			has_mil_advisor = yes
			num_of_owned_provinces_with = {
				value = 10
				has_military_building = yes
			}
			num_of_owned_provinces_with = {
				value = 3
				has_fort_building_trigger = yes
			}
		}
		effect = {
			custom_tooltip = tm_mal_eth_dip_friendly_if_we_are
			if = {
				limit = {
					NOT = {
						event_target:mali_event_target = {
							mission_completed = mal_approach_to_morocco_friendly_3
						}
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				custom_tooltip = tm_mal_mor_manpower_against_iberia
				define_advisor = {
					type = recruitmaster
					skill = 2
					cost_multiplier = 0.3
					culture = event_target:mali_event_target
					religion = event_target:mali_event_target
				}
				custom_tooltip = tm_ally_has_effects_too

				if = {
					limit = { current_age = age_of_discovery }
					custom_tooltip = tm_mal_mor_ally_can_use_last_stand
				}
			}
			custom_tooltip = mission_alternatively_tt
			custom_tooltip = tm_mor_mal_dip_friendly_if_they_have
			if = {
				limit = {
					event_target:mali_event_target = {
						mission_completed = mal_approach_to_morocco_friendly_3
					}
				}
				custom_tooltip = BONUS_REWARD_YES
			}
			else = { custom_tooltip = BONUS_REWARD_NO }
			tooltip = {
				custom_tooltip = tm_mal_mor_manpower_against_iberia_2
				custom_tooltip = tm_ally_has_effects_too
			}
			hidden_effect = {
				if = {
					limit = { NOT = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_3 } } }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					random_owned_province = { add_base_manpower = 1 }
					define_advisor = {
						type = recruitmaster
						skill = 2
						cost_multiplier = 0.3
						culture = event_target:mali_event_target
						religion = event_target:mali_event_target
					}
					event_target:mali_event_target = {
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						random_owned_province = { add_base_manpower = 1 }
						define_advisor = {
							type = recruitmaster
							skill = 2
							cost_multiplier = 0.3
							culture = ROOT
							religion = ROOT
						}
					}
				}
				if = {
					limit = { event_target:mali_event_target = { mission_completed = mal_approach_to_morocco_friendly_3 } }
					for = {
						amount = 10
						effect = "
						random_owned_province = {
							limit = { has_military_building = yes }
							if = { limit = { has_building = soldier_households } add_base_manpower = 2 }
							else = { add_building = soldier_households }
						}
						"
					}
					event_target:mali_event_target = {
						for = {
							amount = 10
							effect = "
							random_owned_province = {
								limit = { has_military_building = yes }
								if = { limit = { has_building = soldier_households } add_base_manpower = 2 }
								else = { add_building = soldier_households }
							}
							"
						}
					}
				}
			}
		}
	}
}

mor_slot_5_mali_diplomacy_hostile = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
		has_country_flag = tm_mor_hostile_mal
	}
	has_country_shield = yes

	mor_approach_to_mal_hostile_2 = {
		icon = mission_conquer_benin
		required_missions = { tm_mor_approach_to_mal }
		position = 14

		provinces_to_highlight = {
			region = sahel_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT }
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 10
				region = sahel_region
			}
		}
		effect = {
			jenne_area = { add_perma_claim = yes }
			upper_volta_area = { add_perma_claim = yes }
			massina_area = { add_perma_claim = yes }
			dendi_area = { add_perma_claim = yes }
			azbin_area = { add_perma_claim = yes }
			east_azbin_area = { add_perma_claim = yes }
			manding_area = { add_perma_claim = yes }
			futa_jallon_area = { add_perma_claim = yes }
			tekrur_area = { add_perma_claim = yes }
			katsina_area = { add_perma_claim = yes }
			kong_area = { add_perma_claim = yes }
			add_country_modifier = {
				name = conquest_of_benin_mor
				duration = 7300
			}
		}
	}

	mor_approach_to_mal_hostile_3 = {
		icon = mission_invade_kanem
		required_missions = { mor_approach_to_mal_hostile_2 }
		

		provinces_to_highlight = {
			OR = { 
				area = dendi_area
				area = katsina_area
				area = azbin_area
				area = east_azbin_area
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				OR = { 
					area = dendi_area
					area = katsina_area
					area = azbin_area
					area = east_azbin_area
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = "mor_conquest_of_kanem"
				duration = 7300
			}
			custom_tooltip = tm_mal_claims_in_sahel
			sahel_region = { add_perma_claim = yes }
		}
	}
}

tm_morocco_eco_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_port_of_sebta = {
		icon = mission_retake_ceuta
		required_missions = {}
		position = 16
		
		provinces_to_highlight = {
			province_id = 1751
		}
		
		trigger = {
			1751 = {
				owned_by = ROOT
				num_of_buildings_in_province = 3
				has_trade_building_trigger = yes
				development = 12
			}
		}
		
		effect = {
			1751 = {
				change_trade_goods = grain
				center_of_trade = 1
				add_province_modifier = {
					name = "gra_mouth_of_mediterranean"
					duration = -1
				}
				upgrade_building = { trade = yes }
			}
		}
	}

	tm_mor_merchants = {
		icon = mission_disrupt_portuguese_trade
		required_missions = { tm_mor_port_of_sebta }
		
		trigger = {
			calc_true_if = {
				amount = 2
				any_rival_country = { trade_embargo_by = ROOT }
			}
			if = {
				limit = { exists = CAS }
				CAS = { trade_embargo_by = ROOT }
			}
			else_if = {
				limit = { exists = SPA }
				SPA = { trade_embargo_by = ROOT }
			}
			else_if = {
				limit = { 227 = { OR = { owner = { is_or_was_tag  = { tag = POR } } } } }
				any_country = {
					is_or_was_tag = { tag = POR }
					trade_embargo_by = ROOT
				}
			}
			else = {
				4548 = {
					trade_share = {
						country = ROOT
						share = 50
					}
				}
			}
			num_of_light_ship = 20
		}
		
		effect = {
			add_country_modifier = {
				name = gra_merchants_inspired
				duration = 7300
			}
		}
	}

	tm_mor_rich_trade = {
		icon = reform_the_monte
		required_missions = { tm_mor_improving_trade tm_mor_merchants }

		provinces_to_highlight = {
			OR = {
				province_id = 343
				province_id = 341
				province_id = 1132
			}
		}
		
		trigger = {
			monthly_income = 500
			343 = {
				has_merchant = ROOT
				trade_share = {
					country = ROOT
					share = 80
				}
				trade_node_value = 100
			}
			341 = {
				trade_share = {
					country = ROOT
					share = 50
				}
			}
			1132 = {
				trade_share = {
					country = ROOT
					share = 15
				}
			}
		}
		
		effect = {
			add_country_modifier = {
				name = tm_mor_lucrative_nation
				duration = -1
			}
		}
	}

	#gc_mor_privateer = {
	#	icon = mission_raid_christian_trade
	#	required_missions = { }
	#	position = 18
	#	
	#	provinces_to_highlight = {
	#		province_id = 1293
	#	}
	#	
	#	trigger = {
	#		1293 = {
	#			privateer_power = {
	#				country = ROOT
	#				share = 25
	#			}
	#		}
	#	}
	#	
	#	effect = {
	#		add_country_modifier = {
	#			name = mor_privateering
	#			duration = 7300
	#		}
	#	}
	#}
}

tm_mor_colonisation_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		OR = {
			tag = MOR
			tag = ZRD
			tag = ADU
		}
	}
	has_country_shield = yes

	tm_mor_argentina_start = {
		icon = mission_clear_the_delta
		required_missions = { tm_mor_brazil_start }
		position = 21
		
		provinces_to_highlight = {
			colonial_region = colonial_la_plata
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				colonial_region = colonial_la_plata
				is_city = yes
			}
		}

		effect = {
			add_country_modifier = {
				name = tm_mor_bearing_the_harsh
				duration = 9125
			}
		}
	}

	tm_mor_argentina_control = {
		icon = mission_control_unrest
		required_missions = { tm_mor_argentina_start }
		
		provinces_to_highlight = {
			colonial_region = colonial_la_plata
			OR = {
				is_city = no
				NOT = { country_or_non_sovereign_subject_holds = ROOT }
			}
			has_discovered = ROOT
		}
		
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 15
				colonial_region = colonial_la_plata
				is_city = yes
			}
		}
		
		effect = {
			add_mercantilism = 3
			add_country_modifier = {
				name = tm_mor_steering_trade
				duration = -1
			}
		}
	}
}