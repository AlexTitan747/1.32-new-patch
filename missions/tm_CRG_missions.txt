
tm_CRG_slot_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = CRG
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_construct_the_cothon = {
		icon = a_strong_government
		required_missions = { tm_TTS_carthage_reborn }
		position = 13
		
		provinces_to_highlight = {
				province_id = 341
		}

		trigger = {
			341 = {
				development = 28
			}
			prestige = 85
			
		}
		
		effect = {
			add_prestige = 30
			125 = {
				if = {
					limit = {
						NOT = { trade_goods = paper }
					}
					change_trade_goods = paper
				}
			}
			125 = {
				if = {
					limit = {
						NOT = { has_building = fort_15th }
					}
					add_building = fort_15th
				}
			}
		}
	}
}

tm_tts_slot_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_develop_and_prepare = {
		icon = mission_saladin_takes_jerusalem
		required_missions = { tm_TTS_build_african_industry tm_TTS_secure_the_tripoli_coast }
		position = 11

		provinces_to_highlight = {
			OR = {
				province_id = 353
				province_id = 2452
				province_id = 354
				province_id = 2451
				province_id = 2954
				area = zaltan_area
			}
		}
		
		trigger = {
			353 = {
				development = 6
			}
			2452 = {
				development = 6
			}
			354 = {
				development = 14
				province_has_center_of_trade_of_level = 2
			}
			2451 = {
				development = 6
			}
			2954 = {
				development = 6
				province_has_center_of_trade_of_level = 2
			}
			zaltan_area = {
				OR = {
				has_building = fort_15th
				has_building = fort_16th
				has_building = fort_17th
				has_building = fort_18th
				}
			}
			}

		effect = {
			delta_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			bahari_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			siwa_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			cyrenaica_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			butnan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			zaltan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}

	tm_TTS_face_the_sultans_in_egypt = {
		icon = mission_saladin_takes_jerusalem
		required_missions = { tm_TTS_entrance_to_west_africa tm_TTS_develop_and_prepare }
		position = 12

		provinces_to_highlight = {
			OR = {
				AND = {
					area = delta_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = bahari_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = siwa_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = cyrenaica_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = butnan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = zaltan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		
		trigger = {
			delta_area = {
				type = all
				owned_by = ROOT
				}
			bahari_area = {
				type = all
				owned_by = ROOT
				}
			cyrenaica_area = {
				type = all
				owned_by = ROOT
				}
			siwa_area = {
				type = all
				owned_by = ROOT
				}
			butnan_area = {
				type = all
				owned_by = ROOT
				}
			zaltan_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			country_event = {
				id = titantts.1
			}
		}
	}
}

tm_tts_slot_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = TTS
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	tm_TTS_secure_the_tripoli_coast = {
		icon = mission_grand_bengali_shipyards
		required_missions = { tm_TTS_restructure_the_cabinet }
		position = 10

		provinces_to_highlight = {
			OR = {
				AND = {
					area = tripolitania_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
				AND = {
					area = djerba_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}
		
		trigger = {
			tripolitania_area = {
				type = all
				owned_by = ROOT
				}
			djerba_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			fezzan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			north_saharan_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			hidden_effect = {
				353 = {
					set_province_flag = develop_desert_coast
				}
				354 = {
					set_province_flag = develop_desert_coast
				}
				2452 = {
					set_province_flag = develop_desert_coast
				}
				2451 = {
					set_province_flag = develop_desert_coast
				}
				2954 = {
					set_province_flag = develop_desert_coast
				}
			}
		}
	}

	tm_TTS_entrance_to_west_africa = {
		icon = mission_sw_against_the_desert
		required_missions = { tm_TTS_secure_the_tripoli_coast }
		position = 11

		provinces_to_highlight = {
					area = fezzan_area
					NOT = {
					country_or_non_sovereign_subject_holds = ROOT
					}
		}
		
		trigger = {
			fezzan_area = {
				type = all
				owned_by = ROOT
				}
			}

		effect = {
			east_azbin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			azbin_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
		}
	}
	tm_TTS_draw_in_the_trade = {
		icon = mal_riches_of_trade
		required_missions = { tm_TTS_entrance_to_west_africa }
		provinces_to_highlight = {
			OR = {
				province_id = 1149
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			1149 = {
				is_strongest_trade_power = ROOT
			}
		}
		effect = {
			add_country_modifier = {
				name = "trading_giant"
				duration = 7300
			}
		}
	}
}


