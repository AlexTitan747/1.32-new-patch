namespace = butua_flavour

country_event = {
    id = butua_flavour.1
    title = butua_flavour.1.t
    desc = butua_flavour.1.d
	picture = SHWEDAGON_PAGON_eventPicture

	fire_only_once = yes
	
	is_triggered_only = yes

	trigger = {
		tag = RZW
	}
	
	option = { #Stay Fetishist
		name = butua_flavour.1.a

        add_country_modifier = {
            name = "butua_stays_fetishist"
            duration = -1
        }
        add_stability = 1
		
		ai_chance = { #Keep AI as default religion
			factor = 100
		}
	}

	option = { #Convert to Sunni
		name = butua_flavour.1.b
		change_religion = sunni
        capital_scope = { change_religion = sunni }
        set_ruler_religion = sunni
        set_heir_religion = sunni
        set_consort_religion = sunni

        add_country_modifier = {
            name = "butua_converts_sunni"
            duration = 5475
        }

        ai_chance = {
			factor = 0
		}
	}
}

country_event = {
    id = butua_flavour.2
    title = butua_flavour.2.t
    desc = butua_flavour.2.d
	picture = SHWEDAGON_PAGON_eventPicture

	fire_only_once = yes
	
	is_triggered_only = yes

	trigger = {
		tag = RZW
	}
	
	option = { #India
		name = butua_flavour.2.a

		hidden_effect = {
			set_country_flag = butua_india_choice
			swap_non_generic_missions = yes
		}

	}

	option = { #China
		name = butua_flavour.2.b

		hidden_effect = {
			set_country_flag = butua_china_choice
			swap_non_generic_missions = yes
		}
	}

	option = { #Indonesia
		name = butua_flavour.2.c

		hidden_effect = {
			set_country_flag = butua_indonesia_choice
			swap_non_generic_missions = yes
		}
	}
}

country_event = {
    id = butua_flavour.3
    title = butua_flavour.3.t
    desc = butua_flavour.3.d
	picture = SHWEDAGON_PAGON_eventPicture

	fire_only_once = yes
	
	is_triggered_only = yes

	trigger = {
		tag = RZW
	}
	
	option = { #Faster Colonisation
		name = butua_flavour.3.a

		add_country_modifier = {
			name = "butua_colonise_the_cape"
			duration = 9125
		}
	}

	option = { #More Gold
		name = butua_flavour.3.b

		custom_tooltip = butua_find_more_gold_in_cape_tooltip
		set_country_flag = butua_more_gold_in_cape
	}
}

country_event = {
    id = butua_flavour.4
    title = butua_flavour.4.t
    desc = butua_flavour.4.d
	picture = SHWEDAGON_PAGON_eventPicture

	fire_only_once = yes
	
	is_triggered_only = yes

	trigger = {
		tag = RZW
	}
	
	option = { #Go it alone anyway
		name = butua_flavour.4.a

		clr_country_flag = butua_rival_eth
		set_country_flag = butua_fight_eth_alone
		swap_non_generic_missions = yes
		custom_tooltip = buuta_go_it_alone_anyway
	}

	option = { 
		name = butua_flavour.4.b

		trigger = {
			exists = TUR
			TUR = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = TUR
					distance = 40
				}
			}
		}
	}

	option = { 		
		name = butua_flavour.4.c		
		
		trigger = {		
			exists = SLU		
			SLU = {		
				total_development = ETH		
				total_development = SOM		
			}		
			NOT = {		
				border_distance = {		
					who = SLU		
					distance = 40		
				}		
			}		
		}		
	}		

	option = { 
		name = butua_flavour.4.d

		trigger = {
			exists = MAM
			MAM = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = MAM
					distance = 30
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.e

		trigger = {
			exists = EGY
			EGY = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = EGY
					distance = 30
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.f

		trigger = {
			OR = {
				exists = OMA
				exists = OME
			}
			OR = {
				OMA = {
					total_development = ETH
					total_development = SOM
				}
				OME = {
					total_development = ETH
					total_development = SOM
				}
			}
			OR = {
				NOT = {
					border_distance = {
						who = OMA
						distance = 20
					}
				}
				NOT = {
					border_distance = {
						who = OME
						distance = 20
					}
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.g

		trigger = {
			exists = ARB
			ARB = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = ARB
					distance = 20
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.h

		trigger = {
			exists = RAS
			RAS = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = RAS
					distance = 20
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.i

		trigger = {
			exists = MAL
			MAL = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = MAL
					distance = 30
				}
			}
		}
	}

	option = { 
		name = butua_flavour.4.j

		trigger = {
			exists = GHN
			GHN = {
				total_development = ETH
				total_development = SOM
			}
			NOT = {
				border_distance = {
					who = GHN
					distance = 30
				}
			}
		}
	}
}